"use strict";angular.module("AutoFontSize",[]).directive("autoFontSize",["$window",function(){return{template:'<div data-role="inner" ng-transclude></div>',transclude:!0,link:{post:function(a,b,c){function d(){var c=0;if(g()&&j.shrink)for(;g()&&100>c&&e()>=j.minSize;)f(e()-1),c+=1;else{if(!h()||!j.grow)return k.css("font-size")&&f(e()),void 0;for(;h()&&100>c;)f(e()+1),c+=1}a.$emit("auto-font-size:resized",{fontSize:e(),elem:b})}function e(){var a=k.css("font-size");return Number(a.match(/\d+/)[0])}function f(a){k.css("fontSize",a+"px"),k.css("lineHeight",a+2+"px"),k.find("img").height(a+2)}function g(){return k.width()>b.width()||k.height()>b.height()}function h(){return k.width()<b.width()||k.height()<b.height()}var i=a.$eval(c.autoFontSize)||{},j=angular.extend({shrink:!0,grow:!0,minSize:1},i),k=b.find("div[data-role]");a.$watch(d)}}}}]);